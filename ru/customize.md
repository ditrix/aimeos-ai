# Изменение конфигурации

Основная библиотека содержит множество параметров конфигурации, которые задокументированы в разделе "Configuration" и могут быть изменены в файле `config/shop.php`. Они отображаются в документации следующим образом:

```
client/html/catalog/filter/button = 1
```

Laravel использует обычные массивы PHP для конфигурации. В качестве правила, заменяйте каждую часть, разделенную косой чертой (/), на `'..' => ['...'],`:

```php
'client' => [
    'html' => [
        'catalog' => [
            'filter' => [
                'button' => 1,
            ],
        ],
    ],
],
```

## Списки значений

Тот же подход работает и для массивов значений:

```php
'client' => [
    'html' => [
        'catalog' => [
            'filter' => [
                'subparts' => ['search', 'tree', 'attribute'],
            ],
        ],
    ],
],
```

## Кавычки

Все ключи и значения должны быть заключены в одинарные кавычки ('):

```php
'test' => 'my test value'
```

Некоторые значения могут содержать знак доллара, который будет интерпретироваться как переменная, если он заключен в двойные кавычки. Поэтому лучше всегда использовать одинарные кавычки!

```php
'test' => '%1$s%2$s'
```

## Специфические области

Иногда необходимо применить настройки конфигурации только для фронтенда, административной панели или команд CLI. В Aimeos поддерживаются три области:

* command
* backend
* frontend

Файл конфигурации `./config/shop.php` может содержать секции с настройками только для этих областей. Внутри этих секций можно добавить все доступные параметры конфигурации, например:

```php
'command' => [
    'madmin' => [
        'log' => [
            'manager' => [
                'loglevel' => 7
            ],
        ],
    ],
],
'backend' => [
    'madmin' => [
        'log' => [
            'manager' => [
                'loglevel' => 5
            ],
        ],
    ],
],
'frontend' => [
    'madmin' => [
        'log' => [
            'manager' => [
                'loglevel' => 4
            ],
        ],
    ],
],
```

# Перезапись переводов

Есть возможность перезаписать переводы из основной библиотеки или других расширений Aimeos через файл `config/shop.php`. Это очень удобно, если нужно заменить лишь некоторые существующие переводы на собственные. Для каждого перевода требуется указать ISO код языка, домен перевода, исходную строку и новый перевод, например:

```php
'i18n' => [
    '<ISO language code>' => [
        '<translation domain>' => [
            '<original English singular from source code>' => ['<new translation>'],
        ],
    ],
],
```

!!! предупреждение
    Это следует использовать только для замены нескольких переводов. Если вы хотите перевести Aimeos на новый язык, используйте [сайт Transifex](https://www.transifex.com/aimeos/public/). Перевод будет доступен в следующем релизе Aimeos автоматически. Также, если вам нужно перезаписать больше переводов, следует ознакомиться со статьей о [добавлении переводов](../developer/translations.md).

## Необходимая информация

ISO код языка
: Для указания языка перевода необходимы [двухбуквенные коды языка ISO (639-1)](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes). Также можно добавить [двухбуквенные коды стран ISO](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) для указания языковых вариантов, например "en_GB" для британского английского. Убедитесь, что код языка всегда в нижнем регистре, а код страны — в верхнем.

домен перевода
: Домен перевода, откуда исходная строка. Основной Aimeos содержит шесть доменов перевода: `mshop` (основная библиотека с менеджерами), `controller/frontend` (базовая бизнес-логика для фронтенда), `client` (клиенты фронтенда), `controller/jobs` (асинхронные задачи cron), и `admin` (интерфейс администрирования). Чтобы узнать, из какого домена строка, нужно проверить файлы .pot в Aimeos для этой строки.

оригинальная форма
: Это оригинальная строка в единственном числе из исходного кода или файла .pot. Строка должна быть точно такой же (с учетом регистра, пробелов и т. д.), как в исходном коде / .pot файле. Нельзя использовать уже переведенные строки как исходные.

новый перевод
: Новый перевод для оригинальной строки. Это должен быть массив, чтобы поддерживать одну или несколько форм во множественном числе.

!!! предупреждение
    Оригинальная строка **чувствительна к регистру**, поэтому важно использовать "Basket" или "basket"! Всегда используйте такую же строку, как в шаблоне или исходном коде.

## Переводы в единственном числе

Простой перевод на английский:

```php
'i18n' => [
    'en' => [
        'client' => [
            'address' => ['Addresses'],
        ],
    ],
],
```

Простой перевод на американский английский:

```php
'i18n' => [
    'en_US' => [
        'client' => [
            'Basket' => ['Cart'],
        ],
    ],
],
```

Несколько переводов на английский:

```php
'i18n' => [
    'en_US' => [
        'client' => [
            'address' => ['Address'],
            'Basket' => ['Cart'],
        ],
    ],
],
```

Перевод во множественном числе на английский:

```php
'i18n' => [
    'en' => [
        'client' => [
            'address' => ['Address', 'Addresses'],
        ],
    ],
],
```

## Переводы во множественном числе

Перевод, включающий одну или несколько форм во множественном числе, может быть определен, если исходная строка в исходном коде также поддерживает формы во множественном числе. В этом случае исходный код будет выглядеть так:

```php
$i18n->dn( 'client', '%1$d hour', '%1$d hours', 1 );
$this->translate( 'client', '%1$d hour', '%1$d hours', 1 );
```

Для перезаписи перевода во множественном числе самая простая форма:

```php
'i18n' => [
    'de' => [
        'client' => [
            '%1$d hour' => ['%1$d Stunde', '%1$d Stunden'],
        ],
    ],
],
```

Индекс "0" всегда будет строкой в единственном числе, а большинство языков имеют только одну форму во множественном числе, которая должна быть определена с использованием индекса "1" (массивы PHP всегда начинаются с индекса "0").

Некоторые языки используют несколько форм во множественном числе в зависимости от значения, передаваемого в последнем параметре метода перевода. В таком случае индекс зависит от языка и значения счетчика, переданного как четвертый параметр в методах *dn()* или *translate()*.

Чтобы найти правильный индекс для языка, вам нужно изучить метод [*getPluralIndex()*](https://github.com/aimeos/aimeos-base/blob/master/src/Translation/Base.php), который сопоставляет значение счетчика с индексом для языка, на который вы хотите перевести. Пример для чешского:

```php
'i18n' => [
    'cz' => [
        'client' => [
            'hour' => [
                'dlouhá hodina', // один час
                'dlouhé hodiny', // два-три часа
                'dlouhých hodin', // больше четырех часов
            ],
        ],
    ],
],
```

Все шаблоны Aimeos написаны на PHP с использованием шаблонизатора и вспомогательных функций, которые легко понять. Это работает во всех интеграциях одинаково, крайне быстро и не требует от разработчика изучения нового синтаксиса.

Вы также можете использовать шаблонизатор Blade Laravel для шаблонов Aimeos, перезаписанных для вашего проекта. Таким образом, все ваши шаблоны будут написаны на одном языке шаблонов.
