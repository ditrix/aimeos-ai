### Aimeos нуждается в приложении-хосте

Самое важное, что должно быть понятно из этого описания: Aimeos требует приложения-хоста для интеграции. В отличие от других систем электронной коммерции, Aimeos не является автономным программным обеспечением. Вместо этого он может быть интегрирован в любое PHP-фреймворк или существующее приложение как нативный пакет.

![Модель слоев Aimeos](Aimeos-stack.png)

Для детального изучения структуры базы данных Aimeos обратитесь к SVG-файлу с [ERM-диаграммой структуры базы данных Aimeos](https://aimeos.org/fileadmin/download/Aimeos-database.svgz).

---

## Точки взаимодействия для администраторов

Эти интерфейсы используются редакторами и разработчиками через HTTP.

### Интерфейс JQAdm

Стандартный интерфейс Aimeos для управления всеми данными, необходимыми или генерируемыми в Aimeos.

Код: [ai-admin-jqadm extension](https://github.com/aimeos/ai-admin-jqadm)

### GraphQL API

API для получения и управления данными магазина из удалённых источников или через интерфейс JQAdm.

Код: [ai-admin-graphql extension](https://github.com/aimeos/ai-admin-graphql)

### JsonAdm API (устаревшее)

REST API для работы с данными магазина через удалённые источники или интерфейс JQAdm.

Код: [ai-admin-jsonadm extension](https://github.com/aimeos/ai-admin-jsonadm)

---

## Точки взаимодействия для клиентов

Эти интерфейсы используются клиентами и разработчиками через HTTP.

### HTML клиент

Стандартный HTML-фронтенд с видами продуктов и аккаунтов, процессом оформления заказа и созданием писем.

Код: [ai-client-html extension](https://github.com/aimeos/ai-client-html)

### JsonApi клиент

Полнофункциональный JSON REST API для создания кастомных фронтендов или добавления динамических функций в HTML клиент.

Код: [ai-client-jsonapi extension](https://github.com/aimeos/ai-client-jsonapi)

---

## Контроллеры

Контроллеры в Aimeos отвечают за бизнес-логику, а не за логику MVC. Например, они знают, как поместить товар в корзину.

### Контроллеры фронтенда

Отвечают за бизнес-логику для различных клиентских реализаций. Они предоставляют простой интерфейс для работы с категориями, продуктами, сервисами и другими элементами.

Код: [ai-controller-frontend extension](https://github.com/aimeos/ai-controller-frontend)

Основные доменные контроллеры:

- **attribute**: Поиск и получение доступных атрибутов продуктов.
- **basket**: Управление одной или несколькими корзинами.
- **catalog**: Получение дерева категорий.
- **customer**: Работа с данными клиентов.
- **locale**: Получение доступных комбинаций языка и валюты.
- **order**: Создание и получение заказов.
- **product**: Поиск и фильтрация продуктов.
- **review**: Добавление и получение отзывов.
- **service**: Работа с опциями доставки и оплаты.
- **site**: Получение данных о сайтах.
- **stock**: Получение уровня запасов.
- **subscription**: Управление подписками.
- **supplier**: Получение и фильтрация поставщиков.

### Контроллеры задач

Контроллеры для задач, которые нужно выполнять асинхронно. Например, для ускорения работы фронтенда или повышения устойчивости к ошибкам.

Код: [ai-controller-jobs extension](https://github.com/aimeos/ai-controller-jobs)

Примеры задач:

- Административные очистки.
- Импорт и экспорт данных.
- Управление индексом продуктов.
- Массовое изменение медиафайлов.
- Обновление статуса заказа.
- Управление подписками.
- Отправка писем.

---

## Доступ к данным

Этот слой предоставляет доступ к данным, хранящимся в реляционных базах данных, NoSQL-хранилищах или внешних API. Источник данных не важен — доступ осуществляется через единый PHP API.

Aimeos использует подход предметно-ориентированного проектирования (DDD), где каждый домен данных автономен. Например, домен продуктов управляет только данными продуктов, а домен заказов — только данными заказов.

Код: [Aimeos core](https://github.com/aimeos/aimeos-core/tree/master/src)

Доменные области:

- **Административные**: кеш, задачи, логи.
- **Магазин**: атрибуты, категории, купоны, клиенты, заказы, продукты, подписки и другие.

Данные могут храниться в отдельных базах для каждого домена.

---

## Адаптеры

Нижний слой содержит адаптеры для интеграции компонентов электронной коммерции в приложение-хост. Они предоставляют стандартные интерфейсы.

Код: [Aimeos base](https://github.com/aimeos/aimeos-base/tree/master/src)

Примеры адаптеров:

- **Cache**: Работа с кэшированием.
- **Config**: Настройка Aimeos через приложение.
- **Logger**: Логирование сообщений.
- **Mail**: Отправка писем.
- **Session**: Работа с пользовательскими сессиями.
- **View**: Шаблонизатор.

Интерфейсы для работы с базами данных, файловыми системами, очередями и параллельными процессами также доступны. 